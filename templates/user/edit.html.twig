{% extends 'base.html.twig' %}

{% block title %}Edit User{% endblock %}

{% block body %}
<main class="mt-5 pt-4">
    <div class="container dark-grey-text mt-5">

    <h1>Edit User</h1>

    {{ form_start(form, {'attr': {'id': 'new_edit_user'}}) }}
        {# utilisation de classes bootstrap pour la mise en forme #}
        <div class="row">
            <div class="input-group">
                <span><i class="fas fa-user" aria-hidden="true"></i></span>
                {{ form_widget(form.username) }}
            </div>
            <div class="input-group">
                <span><i class="fa fa-envelope" aria-hidden="true"></i></span>
                {{ form_widget(form.email) }}
            </div>
            <div class="input-group">
                <span><i class="fas fa-key" aria-hidden="true"></i></span>
                {{ form_widget(form.password) }}
            </div>
            <div class="input-group">
                <span><i class="fas fa-key" aria-hidden="true"></i></span>
                <input id="password2" type="Password" placeholder="Confirmer mot de passe" name="password2" required="">
            </div>
        </div>
        <button class="btn btn-success">{{ button_label|default('Mettre à jour') }}</button>
        {{ form_end(form) }}

        <a href="{{ path('app_user_index') }}">back to list</a>

    {{ include('user/_delete_form.html.twig') }}

</div>
</main>
{% endblock %}

{% block javascripts %}
<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script>
    $("#new_edit_user").on('submit', function(){
        if($("#user_password").val() != $("#password2").val()) {
            //implémntez votre code
            alert("Les deux mots de passe saisies sont différents");
            return false;
        }
    })
</script>
{% endblock %}
